var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};$(function(){var Bump;return new(Bump=function(){function Bump(){var $B,_can_drag,_offset;$B=this,this.bumps={center:$(".bump.bump-center"),left:$(".bump.bump-left"),right:$(".bump.bump-right"),all:$(".bump")},$(document).on("tap.bump click.bump",'[data-toggle="bump"]',function(event){var target,_dir,_in;return event.preventDefault(),target=$(this.attributes["data-target"].nodeValue),target.length>0?(_in=!target.hasClass("bump-in"),_dir=target.hasClass("bump-left")?"right":"left",_in?($B.bumps.left.css("zIndex",Bump.DEFAULTS.lvl1),$B.bumps.right.css("zIndex",Bump.DEFAULTS.lvl1),target.css("zIndex",Bump.DEFAULTS.lvl2).addClass("bump-in"),$B.bumps.center.removeClass("bump-in-"+$B.flip(_dir)).addClass("bump-in-"+_dir)):($B.bumps.center.removeClass("bump-in-right bump-in-left"),$B.bumps[$B.flip(_dir)].removeClass("bump-in"))):void 0}),$.fn.swipe&&(_can_drag=!1,_offset=0,this.bumps.center.swipe({threshold:20,swipeStatus:function(event,phase,direction){var left,o,target,w,x;if(__indexOf.call(event.target.classList,"bump-center")>=0||$(event.target).parent(".bump-center"))switch(phase){case"start":if(x=event.clientX,o=$B.bumps.center.offset().left,_offset=x-o,w=$(window).width(),_can_drag=w/4>x||x>w/4*3||0!==o,0===o)return $B.bumps.left.css("zIndex",Bump.DEFAULTS.lvl1),$B.bumps.right.css("zIndex",Bump.DEFAULTS.lvl1);break;case"move":if(_can_drag&&"left"===direction||"right"===direction){if(left=event.clientX-_offset,$B.bumps.center.addClass("bump-dragging"),target=$B.bumps.center.hasClass("bump-in-"+$B.flip(direction))?$B.bumps[direction]:$B.bumps[$B.flip(direction)],Math.abs(left)>target.width())return;return $B.bumps.center.css("left",left),target.addClass("bump-in").css("zIndex",Bump.DEFAULTS.lvl2)}break;case"end":if($B.bumps.center.removeClass("bump-dragging"),left=event.clientX-_offset,$B.bumps.center.removeAttr("style"),null!=direction)return $B.bumps.center.hasClass("bump-in-"+$B.flip(direction))?($B.bumps.center.removeClass("bump-in-right bump-in-left"),$B.bumps.right.removeClass("bump-in"),$B.bumps.left.removeClass("bump-in")):($B.bumps.center.removeClass("bump-dragging"),Math.abs(left)>50?(target=$B.bumps[$B.flip(direction)],left=target.width(),$B.bumps.center.addClass("bump-in-"+direction)):($B.bumps.center.removeClass("bump-in-right bump-in-left"),$B.bumps.right.removeClass("bump-in"),$B.bumps.left.removeClass("bump-in")));if($B.bumps.center.hasClass("bump-in-left")||$B.bumps.center.hasClass("bump-in-right"))return $B.bumps.center.removeClass("bump-in-right bump-in-left"),$B.bumps.right.removeClass("bump-in"),$B.bumps.left.removeClass("bump-in")}}}))}return Bump.DEFAULTS={lvl1:1,lvl2:2},Bump.prototype.flip=function(dir){return"left"===dir?"right":"left"},Bump}())});